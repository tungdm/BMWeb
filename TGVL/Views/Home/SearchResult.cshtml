@model TGVL.Models.LuceneSearch
@{
    ViewBag.Title = "Search Result";
    Layout = "~/Views/Shared/_HomePageViewLayout.cshtml";
    
}

@Styles.Render("~/Content/searchproductcss")

<style>
    .wizard_horizontal ul.wizard_steps {
        display: table;
        list-style: none;
        margin: 0 0 20px;
        position: relative;
        width: 100%;
    }

        .wizard_horizontal ul.wizard_steps li {
            display: table-cell;
            text-align: center;
        }

            .wizard_horizontal ul.wizard_steps li a, .wizard_horizontal ul.wizard_steps li:hover {
                color: #666;
                display: block;
                filter: alpha(opacity=100);
                opacity: 1;
                position: relative;
            }

                .wizard_horizontal ul.wizard_steps li a:before {
                    background: #ccc;
                    content: "";
                    height: 4px;
                    left: 0;
                    position: absolute;
                    top: 20px;
                    width: 100%;
                    z-index: 4;
                }

                .wizard_horizontal ul.wizard_steps li a.disabled .step_no {
                    background: #ccc;
                }

                .wizard_horizontal ul.wizard_steps li a .step_no {
                    border-radius: 100px;
                    display: block;
                    font-size: 16px;
                    height: 40px;
                    line-height: 40px;
                    margin: 0 auto 5px;
                    position: relative;
                    text-align: center;
                    width: 40px;
                    z-index: 5;
                }

                .step_no, .wizard_horizontal ul.wizard_steps li a.selected:before {
                    background: #34495E;
                    color: #fff;
                }

                .wizard_horizontal ul.wizard_steps li a.done .step_no, .wizard_horizontal ul.wizard_steps li a.done:before {
                    background: #1ABB9C;
                    color: #fff;
                }

            .wizard_horizontal ul.wizard_steps li:first-child a:before {
                left: 50%;
            }

            .wizard_horizontal ul.wizard_steps li:last-child a:before {
                left: auto;
                right: 50%;
                width: 50%;
            }
</style>

<section class="main-container">
    <div class="main container">
        <div class="row">
            <div class="col-md-12">
                <div class="popular-posts widget widget__sidebar">
                    <h2 class="widget-title"><strong>KẾT QUẢ TÌM KIẾM</strong></h2>
                    <div class="widget-content">
                        <div>
                            @if (Model.LuceneResult.SearchResult != null && Model.LuceneResult.SearchResult.Count() != 0)
                            {
                                <table class="table">
                                    <tr>
                                        <th>No.</th>
                                        <th>Name</th>
                                        <th>Image</th>
                                        <th>UnitPrice</th>
                                        <th>ManufactureName</th>
                                        <th>Action</th>
                                    </tr>
                                    @{ int count = 0;}
                                    @foreach (var item in Model.LuceneResult.SearchResult)
                                    {
                                        count++;
                                        <tr>
                                            <td>@count</td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Name)
                                            </td>
                                            <td>
                                                <img src="~/Images/Product/SysProduct/@item.Image" style="max-height:100px; max-width:100px" />
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.UnitPrice) /  @Html.DisplayFor(modelItem => item.UnitType)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.ManufactureName)
                                            </td>
                                            <td><button id="viewProductDetails" class="btn btn-primary" onclick="viewProductDetails(@item.Id)">Xem chi tiết</button></td>
                                        </tr>
                                    }

                                </table>
                            }
                            else
                            {
                                <text>
                                    <br />No search records found...<br />
                                    @if (Model.LuceneResult.SuggestWords != null && Model.LuceneResult.SuggestWords.Count() != 0)
                                    {
                                        <p>Did you mean...</p>

                                        foreach(var suggess in Model.LuceneResult.SuggestWords)
                                        {
                                            <p>@Html.ActionLink(suggess, "Search", "Home", new { searchString = suggess }, null)</p>
                                        }
                                    }
                                    
                                </text>
                            }

                        </div>                       
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
